const BATCH_SIZE_DECAY_CHART = {"type":"line","data":{"datasets":[{"label":"1","data":[{"x":1,"y":22.904740737706476},{"x":1.1633607536154968,"y":4.733729148516935},{"x":1.3310999071248508,"y":5.904344115623014},{"x":1.4990712485073636,"y":12.293139777569525},{"x":1.6674074565476982,"y":21.356935979695074}],"borderColor":"#FFCDD2","backgroundColor":"#FFCDD2"},{"label":"10","data":[{"x":1,"y":23.601711273229043},{"x":1.3529078335789593,"y":2.8583514997790584},{"x":1.7061557646525336,"y":2.789373549380782},{"x":2.047953081876725,"y":2.7013207047905183},{"x":2.406163753449862,"y":2.752552065460471},{"x":3.1226079981666093,"y":2.7776919872392685},{"x":3.480921278789962,"y":2.8300417507669797},{"x":3.8391199724991405,"y":2.879827635578882},{"x":4.182404891304348,"y":2.9131560648211505},{"x":4.536571557971015,"y":3.0677534321819944},{"x":4.889945652173913,"y":3.253032625606013},{"x":5.234342739160358,"y":3.6708321639796426},{"x":5.592222986923606,"y":4.770581042792301},{"x":5.950447350309704,"y":6.5534965168123565},{"x":6.2961053837342495,"y":9.645544177256305},{"x":6.653608247422681,"y":18.626839472070007}],"borderColor":"#E57373","backgroundColor":"#E57373"},{"label":"20","data":[{"x":1,"y":23.59513284653845},{"x":1.6703974417542256,"y":2.760902865984198},{"x":2.3347212583853807,"y":2.6674982937372813},{"x":3,"y":2.6117166493499306},{"x":3.6907621247113163,"y":2.626088614117293},{"x":4.354756380510441,"y":2.5971233829012927},{"x":5.027289546716004,"y":2.577453908725072},{"x":5.714153561517113,"y":2.5822415288550595},{"x":6.381381381381382,"y":2.564029623074992},{"x":7.043579044969865,"y":2.551861985701525},{"x":7.7373667130273525,"y":2.583875818769021},{"x":8.392161304938831,"y":2.5590772885909225},{"x":9.046049555867228,"y":2.5523627712810333},{"x":9.754558204768584,"y":2.5723347474873495},{"x":10.436800373134329,"y":2.559409239764978},{"x":11.116640036521343,"y":2.5477009349881463},{"x":11.808262953663547,"y":2.5577475639823146},{"x":12.486587357126195,"y":2.556280873876662},{"x":13.202307259425998,"y":2.5315313599259777}],"borderColor":"#C8E6C9","backgroundColor":"#C8E6C9"},{"label":"50","data":[{"x":1,"y":23.66394064058768},{"x":2.533333333333333,"y":2.60235903143983},{"x":4.123957091775924,"y":2.5520830672980126},{"x":5.762855414398064,"y":2.5274994318886717},{"x":7.356417910447761,"y":2.5097679299837132},{"x":9,"y":2.4821705301936143},{"x":10.590203106332138,"y":2.4850187961948214},{"x":12.159337521416333,"y":2.4731179357638933},{"x":13.76597014925373,"y":2.479600045346517},{"x":15.34547662416515,"y":2.457156743290286},{"x":17,"y":2.4577235159184476},{"x":18.58399029714979,"y":2.442955219028239},{"x":20.179425837320576,"y":2.445457779654651},{"x":21.82171012734991,"y":2.4415215719625807},{"x":23.39027149321267,"y":2.4411921885460837},{"x":25,"y":2.428616203244052},{"x":26.589712918660286,"y":2.4280315597593605},{"x":28.16747572815534,"y":2.438680442625064}],"borderColor":"#66BB6A","backgroundColor":"#66BB6A"},{"label":"100","data":[{"x":1,"y":23.63115971524124},{"x":3.6313364055299537,"y":2.6018537052978736},{"x":6.207920792079208,"y":2.522850691215854},{"x":8.901112484548825,"y":2.5137420901925474},{"x":11.493029150823828,"y":2.4894403990249594},{"x":14.117647058823529,"y":2.482298450345404},{"x":16.79746835443038,"y":2.4809844821354603},{"x":19.34156378600823,"y":2.4767323932564955},{"x":22,"y":2.4671678019760064},{"x":24.6044499381953,"y":2.4827253963060385},{"x":27.189873417721518,"y":2.4554262306946613}],"borderColor":"#2E7D32","backgroundColor":"#2E7D32"},{"label":"200","data":[{"x":1,"y":23.62172294042323},{"x":4.346153846153846,"y":2.580011687795171},{"x":7.7384615384615385,"y":2.5061819834491628},{"x":11,"y":2.4936394655327976},{"x":14.209302325581396,"y":2.493525936378836},{"x":17.60668380462725,"y":2.49679846266944},{"x":20.868217054263567,"y":2.4814356562153552},{"x":24.093908629441625,"y":2.481293642040285},{"x":27.471502590673577,"y":2.4856808355912503}],"borderColor":"#123317","backgroundColor":"#123317"},{"label":"500","data":[{"x":1,"y":23.582618238514502},{"x":5.641025641025641,"y":6.006188844824464},{"x":10,"y":2.5343228919208944},{"x":14.626666666666667,"y":2.493929664383168},{"x":19,"y":2.5025753600106273},{"x":23.436241610738254,"y":2.488285316681784}],"borderColor":"#BBDEFB","backgroundColor":"#BBDEFB"},{"label":"2000","data":[{"x":1,"y":23.62810718544363},{"x":6.702702702702703,"y":10.215276943709245},{"x":12.454545454545455,"y":8.634614503835172}],"borderColor":"#2196F3","backgroundColor":"#2196F3"}]},"options":{"scales":{"xAxes":[{"type":"linear","position":"bottom","scaleLabel":{"display":true,"labelString":"Epoch"}}],"yAxes":[{"type":"logarithmic","ticks":{"min":2.4280315597593605,"max":24},"scaleLabel":{"display":true,"labelString":"Validation Perplexity"}}]}}};
const ALL_CHARTS = [BATCH_SIZE_DECAY_CHART];
ALL_CHARTS.forEach(chartConfig => {
    chartConfig.options.scales.yAxes[0].ticks.callback = value => value.toFixed(2)
});

plotBatchSizeDecay();
plotBatchSizeEpochDuration();
function plotBatchSizeDecay() {
    new Chart('batch-size-decay-chart', BATCH_SIZE_DECAY_CHART);
}

function plotBatchSizeEpochDuration() {
    let labels = Object.keys(BATCH_SIZE_EPOCH_MINUTES).sort((a, b) => parseInt(a) - parseInt(b));
    let values = labels.map(l => BATCH_SIZE_EPOCH_MINUTES[l]);
    let colors = labels.map(l => BATCH_SIZE_COLORS[l]);
    new Chart('batch-size-epoch-duration-chart', {
        type: 'horizontalBar',
        data: {
            labels: labels,
            datasets: [{
                data: values,
                borderColor: colors,
                backgroundColor: colors
            }]
        },
        options: {
            scales: {
                xAxes: [{
                    scaleLabel: {
                        display: true,
                        labelString: 'Minutes per Epoch'
                    },
                    ticks: {
                        min: 0,
                        max: 30,
                        stepSize: 10
                    }
                }]
            },
            legend: {
                display: false
            }
        }
    });
}